{"version":3,"file":"static/js/753.31a6faff.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://react-homework-template/./src/components/module/Searchbar/Searchbar.module.css?760d","components/module/Searchbar/Searchbar.jsx","components/service/getMovieBySearch.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__H2tfD\",\"input\":\"Searchbar_input__S6sKd\",\"button\":\"Searchbar_button__pWtNw\"};","import s from './Searchbar.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { useState, useMemo } from 'react';\n\nexport function Searchbar() {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const queryParams = useMemo(() => {\n    return [...searchParams].reduce((acc, [key, value]) => {\n      acc[key] = value;\n      return acc;\n    }, {});\n  }, [searchParams]);\n\n  const [query, setQuery] = useState(queryParams.search ?? '');\n\n  const handleInputChange = evt => {\n    // const { value } = evt.target;\n    setQuery(evt.target.value);\n  };\n\n  const handleFormSubmit = evt => {\n    evt.preventDefault();\n    if (!query.trim()) {\n      return;\n    }\n\n    setSearchParams(prev => {\n      return { ...queryParams, search: query };\n    });\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleFormSubmit}>\n      <input\n        className={s.input}\n        type=\"text\"\n        placeholder=\"Search movies\"\n        onChange={handleInputChange}\n        value={query}\n      />\n      <button type=\"submit\" className={s.button}>\n        Search\n      </button>\n    </form>\n  );\n}\n","import axios from 'axios';\n\n\n//для названия  фильма https://api.themoviedb.org/3/search/movie?api_key=39fe5b73f599338374afe8e26b8126d9&page=1&query=harry\nconst BASE_URL = `https://api.themoviedb.org/3/search/movie?`;\nconst API_KEY = '39fe5b73f599338374afe8e26b8126d9';\n\n\n\nexport const getMovieBySearch = async (search, page=1,) => {\n \n  try {\n    const URL = `${BASE_URL}api_key=${API_KEY}&page=${page}&query=${search}`\n    const r = await axios.get(URL);\n    return r.data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Movies_list__hqYjd\",\"item\":\"Movies_item__Ba4aJ\",\"link\":\"Movies_link__MzAfU\"};","import { Searchbar } from 'components/module/Searchbar/Searchbar';\nimport { useState, useEffect } from 'react';\nimport { getMovieBySearch } from '../../components/service/getMovieBySearch';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './Movies.module.css'\n\nconst Movies = () => {\n  const [data, setData] = useState([]);\n\n  const [searchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const location = useLocation();\n\n  console.log(search);\n\n  // const [searchParams, setSearchParams] = useSearchParams('');\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n\n    getMovieBySearch(search).then(r => {\n      setData(() => {\n        return [...r.results];\n      });\n    });\n  }, [search]);\n\n  return (\n    <main>\n      <Searchbar />\n<div>\n      <ul className={s.list}>\n        {data.length > 0 &&\n          data.map(({ id, title }) => {\n            return (\n              <li key={id} className={s.item}>\n                <Link to={`${id}`} state={{ from: location }} className={s.link}>\n                  {title}\n                </Link>\n                ;\n              </li>\n            );\n          })}\n      </ul>\n      </div>\n    </main>\n  );\n};\n\nMovies.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n  }),\n};\n\nexport default Movies;\n\n//-------------------------------------//\n// export const Movies = () => {\n//   const [search, setSerch] = useState('');\n//   const [data, setData] = useState([]);\n//   const [input, setInput] = useState('')\n//   const location = useLocation()\n\n//   // const [searchParams, setSearchParams] = useSearchParams('');\n\n//   useEffect(() => {\n//     if (!search) {\n//       return;\n//     }\n\n//     getMovieBySearch(search).then(r => {\n//       setData(() => {\n//         return [...r.results];\n//       });\n//     });\n//   }, [search]);\n\n//   console.log(data);\n\n//   const handleChange = e => {\n//     setInput(e.target.value)\n//   };\n\n//   const headleSubmit = e => {\n//     e.preventDefault();\n//     setSerch(input)\n\n//   };\n\n//   return (\n//     <main>\n//       <Searchbar search={input} onSubmit={headleSubmit} onChange={handleChange} />\n\n//       <ul>\n//         {data.map(({ id, title }) => {\n//           return (\n//             <li key={id}>\n//               <Link to={`${id}`} state={{from: location}}>{title}</Link>;\n//             </li>\n//           );\n//         })}\n//       </ul>\n//     </main>\n//   );\n// };\n"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","useSearchParams","searchParams","setSearchParams","queryParams","useMemo","reduce","acc","useState","search","query","setQuery","className","s","onSubmit","evt","preventDefault","trim","prev","type","placeholder","onChange","BASE_URL","API_KEY","getMovieBySearch","page","URL","axios","r","data","console","error","message","setData","get","location","useLocation","log","useEffect","then","results","map","id","title","to","state","from"],"sourceRoot":""}