{"version":3,"file":"static/js/336.14a1ae89.chunk.js","mappings":"qQASaA,EAAY,mCAAG,WAAOC,GAAP,yFAIlBC,EAJkB,UALd,uCAKc,OAIED,EAJF,oBAJZ,oCAIY,SAKRE,IAAAA,IAAUD,GALF,cAKlBE,EALkB,yBAMjBA,EAAEC,MANe,gCAQxBC,QAAQC,MAAM,SAAU,KAAMC,SARN,yDAAH,sD,mBCRzB,EAAyB,6BAAzB,EAA4D,0BAA5D,EAA6F,2BAA7F,EAA+H,2BAA/H,EAAsK,gC,SC0FtK,EAnFqB,WAAO,IAAD,QACjBP,GAAOQ,EAAAA,EAAAA,MAAPR,GACR,GAA0BS,EAAAA,EAAAA,UAAS,CAAC,GAApC,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACHJ,GAGLX,EAAaC,GAAIe,MAAK,SAAAZ,GACpBQ,EAASR,EACV,GACF,GAAE,CAACO,EAAOV,IAEX,IACEgB,EAMEN,EANFM,eACAC,EAKEP,EALFO,aACAC,EAIER,EAJFQ,WACAC,EAGET,EAHFS,SACAC,EAEEV,EAFFU,OACAC,EACEX,EADFW,YAKF,OACE,6BACE,SAAC,KAAD,CAAMC,GAAE,oBAAEV,EAASW,aAAX,aAAE,EAAgBC,YAAlB,QAA0B,UAAWC,UAAWC,EAAxD,yBAGA,iBAAKD,UAAWC,EAAhB,UACGL,IAAe,gBACdM,IAAG,yCAAoCN,GACvCO,IAAKZ,EACLa,MAAO,IACPC,OAAQ,OAIV,iBAAKL,UAAWC,EAAhB,WACE,0BACGV,EADH,IACoBC,GAAgBA,EAAac,MAAM,EAAG,OAE1D,wCAAgBC,KAAKC,MAAMf,GAA3B,QACA,sCACA,uBAAIC,KACJ,mCACCC,IACC,wBACGA,EAAOc,KAAI,YAAmB,IAAhBlC,EAAe,EAAfA,GAAImC,EAAW,EAAXA,KACjB,OAAO,wBAAcA,GAALnC,EACjB,aAKT,iBAAKyB,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMJ,GAAG,OAAOC,MAAO,UAAAX,EAASW,aAAT,SAAgBC,KAAOZ,EAASW,MAAQ,KAAME,UAAWC,EAAhF,mBAIA,SAAC,KAAD,CAAMJ,GAAG,UAAUC,MAAO,UAAAX,EAASW,aAAT,SAAgBC,KAAOZ,EAASW,MAAQ,KAAME,UAAWC,EAAnF,sBAGA,SAAC,EAAAU,SAAD,CAAUC,UAAU,SAAC,KAAD,OACpB,SAAC,KAAD,SAIP,C","sources":["components/service/getMovieById.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\n\n//для id фильма https://api.themoviedb.org/3/movie/616037?api_key=39fe5b73f599338374afe8e26b8126d9\nconst BASE_URL = `https://api.themoviedb.org/3/movie/`;\nconst API_KEY = '39fe5b73f599338374afe8e26b8126d9';\n\n\n\nexport const getMovieById = async (id) => {\n \n  try {\n    // const URL = `${BASE_URL}?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`;\n    const URL = `${BASE_URL}${id}?api_key=${API_KEY}`\n    const r = await axios.get(URL);\n    return r.data;\n  } catch (error) {\n    console.error('Error:', error.message);\n  }\n};\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetails_button__uXZxd\",\"box\":\"MovieDetails_box__0AyGO\",\"info\":\"MovieDetails_info__qv2SI\",\"link\":\"MovieDetails_link__U+v+7\",\"box__link\":\"MovieDetails_box__link__yR41e\"};","import { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieById } from '../../components/service/getMovieById';\nimport { useState, useEffect } from 'react';\nimport { Suspense } from 'react';\nimport { Watch } from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nimport s from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const [movie, setMovie] = useState({});\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!movie) {\n      return;\n    }\n    getMovieById(id).then(r => {\n      setMovie(r);\n    });\n  }, [movie, id]);\n\n  const {\n    original_title,\n    release_date,\n    popularity,\n    overview,\n    genres,\n    poster_path,\n  } = movie;\n\n\n\n  return (\n    <main>\n      <Link to={location.state?.from ?? '/movies'} className={s.button}>\n        Go to back\n      </Link>\n      <div className={s.box}>\n        {poster_path && <img\n          src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n          alt={original_title}\n          width={300}\n          height={400}\n          \n        />}\n        \n        <div className={s.info}>\n          <h2>\n            {original_title} {release_date && release_date.slice(0, 4)}\n          </h2>\n          <p>User score: {Math.floor(popularity)}%</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h4>Genres</h4>\n          {genres && (\n            <ul>\n              {genres.map(({ id, name }) => {\n                return <li key={id}>{name}</li>;\n              })}\n            </ul>\n          )}\n        </div>\n      </div>\n      <div className={s.box__link}>\n        <Link to=\"cast\" state={location.state?.from ? location.state : null} className={s.link}>\n          Cast\n        </Link>\n\n        <Link to=\"reviews\" state={location.state?.from ? location.state : null} className={s.link}>\n          Reviews\n        </Link>\n        <Suspense fallback={<Watch />}></Suspense>\n        <Outlet />\n      </div>\n    </main>\n  );\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.shape({\n    original_title: PropTypes.string.isRequired,\n    release_date: PropTypes.string.isRequired,\n    popularity: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.string.isRequired,\n    poster_path: PropTypes.string.isRequired,\n  }),\n  id: PropTypes.string,\n};\n\nexport default MovieDetails;\n"],"names":["getMovieById","id","URL","axios","r","data","console","error","message","useParams","useState","movie","setMovie","location","useLocation","useEffect","then","original_title","release_date","popularity","overview","genres","poster_path","to","state","from","className","s","src","alt","width","height","slice","Math","floor","map","name","Suspense","fallback"],"sourceRoot":""}